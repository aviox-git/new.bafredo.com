{% extends "layouts/front.twig" %}
{% block styles %}

    <style type="text/css">
        .mobile .smallBanner .row .right-padding-no {
            padding-right: 0px;
        }
        .mobile .smallBanner .row .left-padding-no {
            padding-left: 0px;
        }
        .pl .productTitle {
            margin-top: 27px;
        }
        .img-responsive {
             height: auto !important;
        }
      .MultiCarousel { float: left; overflow: hidden; padding: 15px; width: 100%; position:relative; }
    .MultiCarousel .MultiCarousel-inner { transition: 1s ease all; float: left; }
        .MultiCarousel .MultiCarousel-inner .item { float: left;}
        .MultiCarousel .MultiCarousel-inner .item > div { text-align: center; padding:10px; margin:10px; background:#f1f1f1; color:#666;}
    .MultiCarousel .leftLst, .MultiCarousel .rightLst { position:absolute; border-radius:50%;top:calc(50% - 20px); }
    .MultiCarousel .leftLst { left:0; }
    .MultiCarousel .rightLst { right:0; }
    
        .MultiCarousel .leftLst.over, .MultiCarousel .rightLst.over { pointer-events: none; background:#ccc; }
    </style>
{% endblock %}
{% block content %}

   <!-- slider section start -->
    <section class="slider-section owl-carousel owl-theme">  
        <div class="item slider-detail" style="background-image: url(assets/theme/images/slider-1.png);">
            <div class="container slider-content">
                <div class="slider-heading"><h2>Lorem ipsum dolor</h2></div>
                <div class="slider-info"><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua.</p></div>
                <div class="slider-btn-box pt-4"><a href="#" class="comn-btn">Buy now</a></div>
            </div>
        </div>
        <div class="item slider-detail" style="background-image: url(assets/theme/images/slider-3.png);">
            <div class="container slider-content">
                <div class="slider-heading"><h2>Lorem ipsum dolor</h2></div>
                <div class="slider-info"><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua.</p></div>
                <div class="slider-btn-box pt-4"><a href="#" class="comn-btn">Buy now</a></div>
            </div>
        </div>
    </section>
    <!-- slider section end -->

{{ include('partials/home/product_list.twig') }}

   
    <!-- video-section start -->
    <section class="video-section py-5">
        <div class="container">
            <div class="row">                
                <div class="col-12 col-md-6">
                    <div class="comn-dark-inner-heading">
                        <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</h2>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                        cillum dolore eu fugiat nulla pariatur.</p>
                    </div>
                    <!-- <a href="#" class="comn-btn mr-2">Visit Our Shop</a>
                    <a href="#" class="comn-dark-outline-btn">Read More</a> -->
                </div>
                <div class="col-12 col-md-6">
                    <div class="video-thumb">
                        <img src="{{ asset('theme/images/hqdefault.jpg') }}">
                        <a href="#" class="video-icon"><i class="fa fa-play"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- video-section end -->

    <!-- newsletter section start -->
    <!-- <section class="newsletter-section py-5">
        <div class="container">
            <div class="comn-section-heading">
                <h2>Join the newsletter</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua.</p>
            </div>
            <div class="row">
                <div class="col-12 col-md-12">
                    <div class="newsletter-area">                        
                        <div class="newsletter-form-box">
                            <form class="form-inline">
                                <div class="form-group mr-2">
                                    <input type="email" class="form-control" placeholder="Enter your email address">
                                    <i class="fa fa-envelope mail-icon"></i>
                                </div>
                                <button type="submit" class="comn-btn">Sign Up</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    <!-- newsletter section stop -->

    <!-- banner-section start -->   
    <a href="{{ base_url("feature-product") }}"><section class="banner-section" style="background-image: url('{{ asset('theme/images/banner-4.jpg') }}')">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-6 d-flex align-items-center">
                    <div class="banner-inner-area">
                        <h2 class="banner-heading">Featured Products</h2>
                        <!-- <div class="comn-info-area">
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat.</p>
                        </div> -->
                        <a href="{{ base_url("feature-product") }}"><button type="submit" class="comn-btn">Read more</button></a>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="banner-feture-img">
                        <img src="{{ asset('theme/images/download.png') }}">
                    </div>
                </div>
            </div>
        </div>
    </section></a>
    <!-- banner-section end -->

    <!-- our Products section start -->
    <section class="our-products-section py-5">
        <div class="container">
            <div class="comn-section-heading">
                <h2>Projects & Tutorials</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua.</p>
            </div>
            <div class="row">
                <div class="col-12 col-md-12">
                    <div class="ourProductSlider owl-carousel owl-theme">
             
                       {% for blog in blogs %}
                            <div class="item">
                                <div class="our-products-single-box">
                                    <div class="our-products-thumb">
                                    <img src="{{ asset('front/uploads/blog/#{blog.getImage()}') }}" alt="{{ blog.getBlogName() }}">
                                        <!--div class="post-date">
                                            <span class="post-date-day">21</span>
                                            <span class="post-date-month">May</span>
                                        </div-->
                                        <!--a href="#" class="meta-post-categories">Lorem ipsum</a-->
                                    </div>
                                    <div class="our-products-detail">
                                       <h4 class="our-products-title"><a href="#">{{ blog.getCreatedAt()}}{{ blog.getBlogName() }}</a></h4>
                                        <div class="our-products-info">
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                                            tempor incididunt ut labore et dolore magna aliqua.</p>
                                        </div>
                                        <a href="{{ base_url("blog/detail/#{blog.getSlug()}") }}" class="read-more-link">Read more</a>
                                    </div>
                                </div>
                            </div>
                       {% endfor %}

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- our Products section end -->

    <!-- map-section start -->
    <section class="map-section">
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d15847.390813209326!2d39.2093687!3d-6.7883799!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xa54079e95134dc55!2sBAFREDO+Electronics!5e0!3m2!1sen!2stz!4v1549870603123" width="100%" height="450" frameborder="0" style="border: 0px; pointer-events: none;" allowfullscreen=""></iframe>
    </section>
    <script>
$(".carousel .item:first").addClass("active");
// Instantiate the Bootstrap carousel
$('.multi-item-carousel').carousel({
  interval: false
});

// for every slide in carousel, copy the next slide's item in the slide.
// Do the same for the next, next item.
$('.multi-item-carousel .item').each(function(){
  var next = $(this).next();
  if (!next.length) {
    next = $(this).siblings(':first');
  }
  next.children(':first-child').clone().appendTo($(this));
  
  if (next.next().length>0) {
    next.next().children(':first-child').clone().appendTo($(this));
  } else {
    $(this).siblings(':first').children(':first-child').clone().appendTo($(this));
  }
});

$(document).ready(function () {
    var itemsMainDiv = ('.MultiCarousel');
    var itemsDiv = ('.MultiCarousel-inner');
    var itemWidth = "";

    $('.leftLst, .rightLst').click(function () {
        var condition = $(this).hasClass("leftLst");
        if (condition)
            click(0, this);
        else
            click(1, this)
    });

    ResCarouselSize();




    $(window).resize(function () {
        ResCarouselSize();
    });

    //this function define the size of the items
    function ResCarouselSize() {
        var incno = 0;
        var dataItems = ("data-items");
        var itemClass = ('.item');
        var id = 0;
        var btnParentSb = '';
        var itemsSplit = '';
        var sampwidth = $(itemsMainDiv).width();
        var bodyWidth = $('body').width();
        $(itemsDiv).each(function () {
            id = id + 1;
            var itemNumbers = $(this).find(itemClass).length;
            btnParentSb = $(this).parent().attr(dataItems);
            itemsSplit = btnParentSb.split(',');
            $(this).parent().attr("id", "MultiCarousel" + id);


            if (bodyWidth >= 1200) {
                incno = itemsSplit[3];
                itemWidth = sampwidth / incno;
            }
            else if (bodyWidth >= 992) {
                incno = itemsSplit[2];
                itemWidth = sampwidth / incno;
            }
            else if (bodyWidth >= 768) {
                incno = itemsSplit[1];
                itemWidth = sampwidth / incno;
            }
            // else {
            //     incno = itemsSplit[0];
            //     itemWidth = sampwidth / incno;
            // }
            $(this).css({ 'transform': 'translateX(0px)', 'width': itemWidth * itemNumbers });
            $(this).find(itemClass).each(function () {
                $(this).outerWidth(itemWidth);
            });
          // alert("jd");
            console.log($(this).find(itemClass).length);
            
            $(".leftLst").addClass("over");
            $(".rightLst").removeClass("over");

        });
    }


    //this function used to move the items
    function ResCarousel(e, el, s) {
        var leftBtn = ('.leftLst');
        var rightBtn = ('.rightLst');
        var translateXval = '';
        var divStyle = $(el + ' ' + itemsDiv).css('transform');
        var values = divStyle.match(/-?[\d\.]+/g);
        var xds = Math.abs(values[4]);
        if (e == 0) {
            translateXval = parseInt(xds) - parseInt(itemWidth * s);
            $(el + ' ' + rightBtn).removeClass("over");

            if (translateXval <= itemWidth / 2) {
                translateXval = 0;
                $(el + ' ' + leftBtn).addClass("over");
            }
        }
        else if (e == 1) {
            var itemsCondition = $(el).find(itemsDiv).width() - $(el).width();
            translateXval = parseInt(xds) + parseInt(itemWidth * s);
            $(el + ' ' + leftBtn).removeClass("over");

            if (translateXval >= itemsCondition - itemWidth / 2) {
                translateXval = itemsCondition;
                $(el + ' ' + rightBtn).addClass("over");
            }
        }
        $(el + ' ' + itemsDiv).css('transform', 'translateX(' + -translateXval + 'px)');
    }

    //It is used to get some elements from btn
    function click(ell, ee) {
        var Parent = "#" + $(ee).parent().attr("id");
        var slide = $(Parent).attr("data-slide");
        ResCarousel(ell, Parent, slide);
    }

});
    </script>
{% endblock %}