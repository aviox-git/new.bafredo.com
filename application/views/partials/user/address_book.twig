<h2>Address Book</h2>
<div class="orderListFrame">
    <form action="#" method="post" class="form-horizontal">
        <fieldset>
            <legend></legend>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="first_name">First Name</label>
                <div class="col-sm-10">
                    <input type="text" name="first_name" required value="{{ addressBook.first_name }}" placeholder="First Name" id="first_name" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="last_name">Last Name</label>
                <div class="col-sm-10">
                    <input type="text" name="last_name" required value="{{ addressBook.last_name }}" placeholder="Last Name" id="last_name" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="email">Email</label>
                <div class="col-sm-10">
                    <input type="text" name="email" required value="{{ addressBook.email }}" placeholder="Email" id="email" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="phone">Phone</label>
                <div class="col-sm-10">
                    <input type="text" name="phone" required value="{{ addressBook.phone }}" placeholder="phone" id="phone" class="form-control">
                    <p id="errmsg"></p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="address">Address</label>
                <div class="col-sm-10">
                    <input type="text" name="address" required value="{{ addressBook.address }}" placeholder="Address" id="address" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="country">Country</label>
                <div class="col-sm-10">
                <input name="country" class="form-control" type="text" readonly value="Tanzania" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="city">Region</label>
                <div class="col-sm-10">
                    <select name="region" class="form-control" id="region" onchange="myFunctiondepartment()">
                        <option value="{{ addressBook.region }}">{{ addressBook.region }}</option>
                        {% for distirct  in  distircts %}
                            <option value="{{ distirct.name }}">{{ distirct.name }}</option>
                        {% endfor %}

                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="region">District</label>
                <div class="col-sm-10">
                    <select name="city" class="form-control" id="city">
                        <option  value="{{ addressBook.city}}">{{ addressBook.city }}</option>

                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="postal_code">Postal Code</label>
                <div class="col-sm-10">
                    <input type="text" name="postal_code" required value="{{ addressBook.postal_code }}" placeholder="Postal Code" id="postal_code" class="form-control">
                    <p id="errmsg1"></p>
                </div>
            </div>
        </fieldset>
        <div class="buttons clearfix">
            <div class="pull-right">
                <input type="submit" value="Save" class="btn btn-primary">
            </div>
        </div>
    </form>
</div>
{% block scripts %}
<script>
    $(document).ready(function () {
        $("#phone").keypress(function (e) {
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                   $("#errmsg").html("Please Enter Numeric values Only").show().fadeOut("slow");
                   return false;
               }
           });
            $("#postal_code").keypress(function (e) {
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                   $("#errmsg1").html("Please Enter Numeric values Only").show().fadeOut("slow");
                   return false;
               }
           });
      });
    function myFunctiondepartment() {
        $('#city').empty();
        var x = document.getElementById("region").value;
        $.ajax({
            url: "{{ site_url('Account/getregion')}}",
            type: 'POST',
            data: {'name' : x},
            success: function(msg) {
                var data = JSON.parse(msg);
                $.each(data, function( index, item ) {
                var option = document.createElement("option");
                                option.text = item.name;
                                option.value = item.name;
                                var select = document.getElementById("city");
                                select.appendChild(option);
                });

            }
        });
    }
</script>
{% endblock %}